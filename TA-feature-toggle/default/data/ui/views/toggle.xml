<dashboard>
    <label>Feature Toggle Management</label>
    <description>Manage which saved searches are enabled or disabled.</description>
    <stylesheet>feature_toggle.css</stylesheet>
    <form>
        <input type="dropdown" token="env" searchWhenChanged="true">
            <label>Select Environment</label>
            <choice value="production">Production</choice>
            <choice value="preproduction">Preproduction</choice>
        </input>
        <input type="dropdown" token="search_name" searchWhenChanged="true">
            <label>Select Search</label>
            <choice value="search1">Search 1</choice>
            <choice value="search2">Search 2</choice>
            <choice value="search3">Search 3</choice>
            <choice value="search4">Search 4</choice>
        </input>
        <input type="dropdown" token="enabled">
            <label>Enable/Disable</label>
            <choice value="true">Enable</choice>
            <choice value="false">Disable</choice>
        </input>
        <submit token="update_toggle" label="Update Toggle"/>
    </form>
    <row>
        <panel>
            <table>
                <search>
                    <query> 
                        | inputlookup feature_toggles 
                        | search environment=$env$ 
                        | table search_name, enabled 
                    </query>
                </search>
                <title>Feature Toggles</title>
            </table>
        </panel>
    </row>
    <script>feature_toggle.js</script>
</dashboard>
